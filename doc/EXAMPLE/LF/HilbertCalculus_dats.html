<BODY BGCOLOR="#E0E0E0" TEXT="#E80000"><PRE><FONT COLOR="#787878">(*
 *
 *
 * An implementation of Hilbert calculus
 *
 *
 *)</FONT>

<FONT COLOR="#787878">// There is a corresponding implementation in Twelf. For those who are
</FONT><FONT COLOR="#787878">// familiar with Twelf, a comparison between these two implementations
</FONT><FONT COLOR="#787878">// should not only be interesting but also can clearly reveal some benefit
</FONT><FONT COLOR="#787878">// from constructing proofs in a functional style as is supported in ATS
</FONT><FONT COLOR="#787878">// in contrast to a logic style as is supported in Twelf.
</FONT>
<FONT COLOR="#787878">// November 2004: the code is completed by Hongwei Xi
</FONT>
<FONT COLOR="#787878">// January 2007: the code is ported to ATS/Geizella by Hongwei Xi
</FONT>
<FONT COLOR="#787878">// March 3rd, 2008: the code is ported to ATS/Anairiats by Hongwei Xi
</FONT>
<FONT COLOR="#787878">(* ***** ****** *)</FONT>

<FONT COLOR="#000000">datasort</FONT> <FONT COLOR="#0000FF">form <FONT COLOR="#000000">=</FONT> FORMtrue <FONT COLOR="#000000">|</FONT> FORMfalse <FONT COLOR="#000000">|</FONT> FORMimp <FONT COLOR="#000000">of</FONT> <FONT COLOR="#000000">(</FONT>form<FONT COLOR="#000000">,</FONT> form<FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">stadef</FONT> <FONT COLOR="#0000FF">K <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> form <FONT COLOR="#000000">=</FONT> FORMimp <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>f2<FONT COLOR="#000000">,</FONT> f1<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">stadef</FONT> <FONT COLOR="#0000FF">S1 <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> form <FONT COLOR="#000000">=</FONT> FORMimp <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>f2<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>
<FONT COLOR="#000000">stadef</FONT> <FONT COLOR="#0000FF">S2 <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> form <FONT COLOR="#000000">=</FONT> FORMimp <FONT COLOR="#000000">(</FONT>FORMimp <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">stadef</FONT> <FONT COLOR="#0000FF">S <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> form <FONT COLOR="#000000">=</FONT>
  FORMimp <FONT COLOR="#000000">(</FONT>S1 <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> S2 <FONT COLOR="#000000">(</FONT>f1<FONT COLOR="#000000">,</FONT> f2<FONT COLOR="#000000">,</FONT> f3<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">datasort</FONT> <FONT COLOR="#0000FF">forms <FONT COLOR="#000000">=</FONT> FORMSnone <FONT COLOR="#000000">|</FONT> FORMSmore <FONT COLOR="#000000">of</FONT> <FONT COLOR="#000000">(</FONT>forms<FONT COLOR="#000000">,</FONT> form<FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">dataprop</FONT> <FONT COLOR="#009000"><FONT COLOR="#0000FF">IN <FONT COLOR="#000000">(</FONT>form<FONT COLOR="#000000">,</FONT> forms<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT>forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> INone <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> FORMSmore <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT>forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> INshi <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> FORMSmore <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF">IN <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> G<FONT COLOR="#000000">)</FONT></FONT></FONT>

<FONT COLOR="#000000">dataprop</FONT> <FONT COLOR="#009000"><FONT COLOR="#0000FF">hil <FONT COLOR="#000000">(</FONT>forms<FONT COLOR="#000000">,</FONT> form<FONT COLOR="#000000">,</FONT> int<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT> forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> HILhyp <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> 0<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF">IN <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> G<FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT> forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> HILk <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> K <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> 0<FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT> forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">,</FONT>C<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> HILs <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> S <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">,</FONT> C<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> 0<FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT> forms</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">n1<FONT COLOR="#000000">,</FONT>n2<FONT COLOR="#000000">:</FONT>nat</FONT><FONT COLOR="#000000">}</FONT>
      HILmp <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">,</FONT> n1+n2+1<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>hil <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> n1<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> hil <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n2<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT></FONT>

<FONT COLOR="#000000">propdef</FONT> <FONT COLOR="#0000FF">hil0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">:</FONT>forms<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#000000">[</FONT>n<FONT COLOR="#000000">:</FONT>nat<FONT COLOR="#000000">]</FONT> hil <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">prfn</FONT> <FONT COLOR="#009000">HILi <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>G<FONT COLOR="#000000">:</FONT> forms<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>A<FONT COLOR="#000000">:</FONT> form<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">hil0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT>
  HILmp <FONT COLOR="#000000">(</FONT>HILmp <FONT COLOR="#000000">(</FONT>HILs<FONT COLOR="#000000">,</FONT> HILk<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> HILk<FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#787878">//
</FONT>
<FONT COLOR="#000000">prfun</FONT> <FONT COLOR="#009000">abs <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>G<FONT COLOR="#000000">:</FONT>forms<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>n<FONT COLOR="#000000">:</FONT>nat<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">.&lt;</FONT>n<FONT COLOR="#000000">&gt;.</FONT></FONT>
  <FONT COLOR="#000000">(</FONT>pf<FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">hil <FONT COLOR="#000000">(</FONT>FORMSmore <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT><FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">hil0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#000000">begin</FONT> <FONT COLOR="#000000">case+</FONT> pf <FONT COLOR="#000000">of</FONT>
  <FONT COLOR="#000000">|</FONT> HILhyp i <FONT COLOR="#000000">=&gt;</FONT> <FONT COLOR="#000000">begin</FONT> <FONT COLOR="#000000">case+</FONT> i <FONT COLOR="#000000">of</FONT>
    <FONT COLOR="#000000">|</FONT> INone <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>HILmp <FONT COLOR="#000000">(</FONT>HILs<FONT COLOR="#000000">,</FONT> HILk<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> HILk<FONT COLOR="#000000">)</FONT>
    <FONT COLOR="#000000">|</FONT> INshi i <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>HILk<FONT COLOR="#000000">,</FONT> HILhyp i<FONT COLOR="#000000">)</FONT>
    <FONT COLOR="#000000">end</FONT>
  <FONT COLOR="#000000">|</FONT> HILk <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>HILk<FONT COLOR="#000000">,</FONT> HILk<FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">|</FONT> HILs <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>HILk<FONT COLOR="#000000">,</FONT> HILs<FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">|</FONT> HILmp <FONT COLOR="#000000">(</FONT>pf1<FONT COLOR="#000000">,</FONT> pf2<FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>HILmp <FONT COLOR="#000000">(</FONT>HILs<FONT COLOR="#000000">,</FONT> abs pf1<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> abs pf2<FONT COLOR="#000000">)</FONT>
<FONT COLOR="#000000">end</FONT></FONT> <FONT COLOR="#787878">// end of [abs]
</FONT>
<FONT COLOR="#787878">//
</FONT>
<FONT COLOR="#000000">dataprop</FONT> <FONT COLOR="#009000"><FONT COLOR="#0000FF">nd <FONT COLOR="#000000">(</FONT>forms<FONT COLOR="#000000">,</FONT> form<FONT COLOR="#000000">,</FONT> int<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT>forms</FONT><FONT COLOR="#000000">}</FONT><FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">:</FONT>form</FONT><FONT COLOR="#000000">}</FONT> NDhyp <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> 0<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF">IN <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> G<FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT>forms</FONT><FONT COLOR="#000000">}</FONT><FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT>form</FONT><FONT COLOR="#000000">}</FONT><FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">n<FONT COLOR="#000000">:</FONT>nat</FONT><FONT COLOR="#000000">}</FONT>
      NDimp <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> n+1<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF">nd <FONT COLOR="#000000">(</FONT>FORMSmore <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT>
  <FONT COLOR="#000000">|</FONT> <FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">G<FONT COLOR="#000000">:</FONT>forms</FONT><FONT COLOR="#000000">}</FONT><FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">A<FONT COLOR="#000000">,</FONT>B<FONT COLOR="#000000">:</FONT> form</FONT><FONT COLOR="#000000">}</FONT><FONT COLOR="#000000">{</FONT><FONT COLOR="#0000FF">n1<FONT COLOR="#000000">,</FONT>n2<FONT COLOR="#000000">:</FONT>nat</FONT><FONT COLOR="#000000">}</FONT>
      NDmp <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">,</FONT> n1+n2+1<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">of</FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">(</FONT>nd <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> FORMimp <FONT COLOR="#000000">(</FONT>A<FONT COLOR="#000000">,</FONT> B<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> n1<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> nd <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n2<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT></FONT>

<FONT COLOR="#000000">propdef</FONT> <FONT COLOR="#0000FF">nd0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">:</FONT>forms<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#000000">[</FONT>n<FONT COLOR="#000000">:</FONT>nat<FONT COLOR="#000000">]</FONT> nd <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#787878">//
</FONT>
<FONT COLOR="#000000">prfun</FONT> <FONT COLOR="#009000">hil2nd <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>G<FONT COLOR="#000000">:</FONT>forms<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>A<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>n<FONT COLOR="#000000">:</FONT>nat<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">.&lt;</FONT>n<FONT COLOR="#000000">&gt;.</FONT></FONT>
  <FONT COLOR="#000000">(</FONT>pf<FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">hil <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">nd0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#000000">begin</FONT>
  <FONT COLOR="#000000">case+</FONT> pf <FONT COLOR="#000000">of</FONT>
  <FONT COLOR="#000000">|</FONT> HILhyp i <FONT COLOR="#000000">=&gt;</FONT> NDhyp i
  <FONT COLOR="#000000">|</FONT> HILk <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">|</FONT> HILs <FONT COLOR="#000000">(</FONT><FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT>
     NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>
       NDmp <FONT COLOR="#000000">(</FONT>
         NDmp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi <FONT COLOR="#000000">(</FONT>INshi INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> NDhyp <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT>
         NDmp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> NDhyp <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT>
       <FONT COLOR="#000000">)</FONT>
     <FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">|</FONT> HILmp <FONT COLOR="#000000">(</FONT>pf1<FONT COLOR="#000000">,</FONT> pf2<FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT>  NDmp <FONT COLOR="#000000">(</FONT>hil2nd pf1<FONT COLOR="#000000">,</FONT> hil2nd pf2<FONT COLOR="#000000">)</FONT>
<FONT COLOR="#000000">end</FONT></FONT> <FONT COLOR="#787878">// end of [hil2nd]
</FONT>
<FONT COLOR="#787878">//
</FONT>
<FONT COLOR="#000000">prfun</FONT> <FONT COLOR="#009000">nd2hil <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>G<FONT COLOR="#000000">:</FONT>forms<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>A<FONT COLOR="#000000">:</FONT>form<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">{</FONT>n<FONT COLOR="#000000">:</FONT>nat<FONT COLOR="#000000">}</FONT></FONT> <FONT COLOR="#0000FF"><FONT COLOR="#000000">.&lt;</FONT>n<FONT COLOR="#000000">&gt;.</FONT></FONT>
  <FONT COLOR="#000000">(</FONT>pf<FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">nd <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">,</FONT> n<FONT COLOR="#000000">)</FONT></FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">:</FONT> <FONT COLOR="#0000FF">hil0 <FONT COLOR="#000000">(</FONT>G<FONT COLOR="#000000">,</FONT> A<FONT COLOR="#000000">)</FONT></FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#000000">begin</FONT> <FONT COLOR="#000000">case+</FONT> pf <FONT COLOR="#000000">of</FONT>
  <FONT COLOR="#000000">|</FONT> NDhyp i <FONT COLOR="#000000">=&gt;</FONT> HILhyp i
  <FONT COLOR="#000000">|</FONT> NDimp pf <FONT COLOR="#000000">=&gt;</FONT> abs <FONT COLOR="#000000">(</FONT>nd2hil pf<FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">|</FONT> NDmp <FONT COLOR="#000000">(</FONT>pf1<FONT COLOR="#000000">,</FONT> pf2<FONT COLOR="#000000">)</FONT> <FONT COLOR="#000000">=&gt;</FONT> HILmp <FONT COLOR="#000000">(</FONT>nd2hil pf1<FONT COLOR="#000000">,</FONT> nd2hil pf2<FONT COLOR="#000000">)</FONT>
<FONT COLOR="#000000">end</FONT></FONT> <FONT COLOR="#787878">// end of [nd2hil]
</FONT>
<FONT COLOR="#787878">// some simple examples
</FONT>
<FONT COLOR="#000000">prval</FONT> <FONT COLOR="#009000">K <FONT COLOR="#000000">=</FONT> nd2hil <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">prval</FONT> <FONT COLOR="#009000">B <FONT COLOR="#000000">=</FONT>
  nd2hil <FONT COLOR="#000000">(</FONT>
    NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>
      NDmp <FONT COLOR="#000000">(</FONT>NDmp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi <FONT COLOR="#000000">(</FONT>INshi <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> NDhyp <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT>
           NDhyp <FONT COLOR="#000000">(</FONT>INshi <FONT COLOR="#000000">(</FONT>INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#000000">prval</FONT> <FONT COLOR="#009000">C <FONT COLOR="#000000">=</FONT>
  nd2hil <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDimp <FONT COLOR="#000000">(</FONT>NDmp
    <FONT COLOR="#000000">(</FONT>NDmp <FONT COLOR="#000000">(</FONT>NDhyp <FONT COLOR="#000000">(</FONT>INshi INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> NDhyp INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">,</FONT> NDhyp INone<FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT><FONT COLOR="#000000">)</FONT>
  <FONT COLOR="#000000">)</FONT></FONT>

<FONT COLOR="#787878">(* ****** ****** *)</FONT>

<FONT COLOR="#787878">(* end of [HilbertCalculus.dats] *)</FONT>
</PRE></BODY>
